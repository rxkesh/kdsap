import{w as p,r as M}from"./index.ZVAiLD46.js";import{U as S}from"./scheduler.KtYXK1xA.js";const u={};function h(e){return e==="local"?localStorage:sessionStorage}function l(e,o,r){const t=r?.serializer??JSON,n=r?.storage??"local";function m(c,i){h(n).setItem(c,t.stringify(i))}if(!u[e]){const c=p(o,s=>{const a=h(n).getItem(e);a&&s(t.parse(a));{const g=d=>{d.key===e&&s(d.newValue?t.parse(d.newValue):null)};return window.addEventListener("storage",g),()=>window.removeEventListener("storage",g)}}),{subscribe:i,set:f}=c;u[e]={set(s){m(e,s),f(s)},update(s){const a=s(S(c));m(e,a),f(a)},subscribe:i}}return u[e]}l("modeOsPrefers",!1);l("modeUserPrefers",void 0);l("modeCurrent",!1);function b(){const e=window.matchMedia("(prefers-color-scheme: light)");function o(r){const t=document.documentElement.classList,n="dark";r===!0?t.remove(n):t.add(n)}o(e.matches),e.onchange=()=>{o(e.matches)}}const w="(prefers-reduced-motion: reduce)";function v(){return window.matchMedia(w).matches}const R=M(v(),e=>{{const o=t=>{e(t.matches)},r=window.matchMedia(w);return r.addEventListener("change",o),()=>{r.removeEventListener("change",o)}}});export{b as a,R as p};
